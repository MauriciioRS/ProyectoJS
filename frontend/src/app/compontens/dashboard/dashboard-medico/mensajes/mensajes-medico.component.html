<div class="mensajes-bg"></div>
<div class="mensajes-container">
  <h2 class="titulo">Enviar Mensaje</h2>
  <form #formMensaje="ngForm" (ngSubmit)="enviarMensaje()" class="formulario-mensaje">
    <mat-form-field appearance="outline">
      <mat-label>Destinatario</mat-label>
      <input matInput name="destinatario" [(ngModel)]="destinatario" required>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Asunto</mat-label>
      <input matInput name="asunto" [(ngModel)]="asunto" required>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Mensaje</mat-label>
      <textarea matInput name="mensaje" [(ngModel)]="mensaje" required rows="4"></textarea>
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit">Enviar</button>
  </form>
  <div *ngIf="mensajeEnviado" class="mensaje-exito">
    Â¡Mensaje enviado!
  </div>

  <div class="bandeja">
    <h2 class="titulo">Mensajes Recibidos</h2>
    <div *ngIf="mensajesRecibidos.length === 0" class="sin-mensajes">
      No tienes mensajes recibidos.
    </div>
    <div *ngFor="let msg of mensajesRecibidos" class="mensaje-card">
      <div class="mensaje-header">
        <span class="asunto">{{ msg.asunto }}</span>
        <span class="fecha">{{ msg.fecha }}</span>
      </div>
      <div class="mensaje-destinatario"><b>De:</b> {{ msg.destinatario }}</div>
      <div class="mensaje-cuerpo">{{ msg.mensaje }}</div>
    </div>
  </div>
</div> 